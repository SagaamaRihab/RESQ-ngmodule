<!-- CONTENITORE PRINCIPALE PAGINA EVACUAZIONE -->
<div class="evacuation-wrapper">

  <!-- CARD CENTRALE CON ANIMAZIONE -->
  <div class="evacuation-card fade-in">


    <!-- ================= HEADER ================= -->
    <div class="card-header">

      <!-- Icona decorativa -->
      <div class="header-icon">
        <i class="fa-solid fa-route"></i>
      </div>

      <!-- Titolo pagina -->
      <h1>Evacuation Planning</h1>

      <!-- Separatore grafico -->
      <div class="divider"></div>

      <!-- Descrizione -->
      <p>

        Enter your current node.
        The system will calculate the safest evacuation route.

      </p>

    </div>


    <!-- ================= FORM ================= -->
    <div class="form-section">

      <div class="form-group">

        <!-- Etichetta input -->
        <label for="startNode">Starting Node</label>


        <div class="input-wrapper">

          <!-- Icona posizione -->
          <i class="fa-solid fa-location-dot"></i>

          <!-- Campo input -->
          <input
            id="startNode"
            type="text"
            [(ngModel)]="startNode"
            placeholder="e.g. A101"
          />

        </div>

      </div>


      <!-- Pulsante calcolo -->
      <button
        class="btn-submit"
        (click)="calculate()"
        [disabled]="loading">


        <!-- Testo normale -->
        <span *ngIf="!loading">Calculate Route</span>


        <!-- Spinner caricamento -->
        <span *ngIf="loading" class="spinner"></span>

      </button>

    </div>


    <!-- ================= STATO ================= -->

    <!-- Messaggio errore -->
    <div *ngIf="error" class="status status-error">

      {{ error }}

    </div>


    <!-- ================= RISULTATO ================= -->
    <div *ngIf="response" class="result-card">


      <h3>Recommended Route</h3>


      <p>{{ response.message }}</p>


      <!-- Lista nodi percorso -->
      <ul class="path-list">

        <li *ngFor="let node of response.path">
          {{ node }}
        </li>

      </ul>


      <!-- Visualizzatore grafico percorso -->
      <app-path-viewer
        *ngIf="response.path.length"
        [path]="response.path">

      </app-path-viewer>

    </div>

  </div>

</div>
